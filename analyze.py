import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.basemap import Basemap

data = pd.read_csv('MSA_New York-Newark-Jersey City, NY-NJ-PA Metro Area_Property_2017-06-27.csv')
data = data.loc[ data['City'] == 'Jersey City']
data = data.loc[ data['Number of Reviews'] >= 10 ]
data = data.loc[ data['Listing Type'] == "Entire home/apt" ]

data['ADR/G'] = data['Average Daily Rate']/data['Max Guests']

lat = data['Latitude'].values
lon = data['Longitude'].values
metric = data['ADR/G'].values

fig = plt.figure(figsize=(8, 8))
m = Basemap(projection='merc', resolution='f',
            llcrnrlat=40.3, llcrnrlon=-74.3, urcrnrlat=41, urcrnrlon=-73.5,
            lat_ts=20)
m.drawcoastlines(color='black')
m.drawcounties(color='blue')
m.drawstates(color='red')

#m.scatter(lon, lat, latlon=True,
#          c=np.log10(metric), s=5*data['Bedrooms'].values,
#          cmap='Blues', alpha=0.75)
 
staydLat = np.array([  40.721222, 40.716656, 40.721143, 40.717821, 40.717821, 40.717821, 40.717821, 40.716656, 40.719383, 40.719383, 40.715585, 40.715585, 40.719383 ] )
staydLon=  np.array([ -74.044276, -74.038963, -74.045662, -74.045629, -74.045629, -74.045629, -74.045629, -74.038963, -74.039581, -74.039581, -74.048326, -74.048326, -74.039581 ] )
 
m.scatter(staydLon, staydLat, latlon=True,
          c='Red', s=5,
          alpha=1.0)

approxLat = np.array([ 40.74178536,40.74102396,40.74163828,40.74096804,40.74198786,40.74155075,40.74158152,40.74123202,40.74037592,40.74248874,40.74037305,40.74073577,40.739761,40.74367066,40.74048325,40.74009866,40.73995914,40.74252383,40.74124729,40.74348602,40.73999228,40.74239533,40.74143777,40.73962232,40.74143968,40.73986981,40.7390104,40.73981011,40.74033639,40.74186768,40.73902268,40.74445297,40.73889277,40.74259452,40.74293661,40.74269374,40.74034726,40.73846535,40.74272272,40.74043155,40.73857247,40.74166848,40.73868867,40.73946567,40.73817348,40.74078694,40.74352013,40.74099681,40.73894572,40.74528432,40.73840263,40.73849562,40.73963931,40.73878116,40.7390508,40.74338036,40.74563137,40.74381035,40.74568965,40.73972551,40.73824075,40.74574837,40.73975824,40.74414769,40.73872033,40.74459218,40.73928533,40.74442981,40.74600863,40.73949825,40.73755973,40.73746745 ])
approxLon = np.array([ -74.04372244,-74.04598358,-74.04104568,-74.0414655,-74.03974982,-74.0392867,-74.03900447,-74.03810276,-74.04115511,-74.0509235,-74.04000385,-74.05125262,-74.04448019,-74.04564411,-74.03703323,-74.05086587,-74.03854725,-74.03460527,-74.03356895,-74.05234286,-74.03615606,-74.03351932,-74.03228557,-74.0366562,-74.0319244,-74.05443102,-74.03950595,-74.03384062,-74.03224079,-74.03078622,-74.03781283,-74.03843621,-74.05091334,-74.03085684,-74.03126794,-74.03069824,-74.03127897,-74.04569804,-74.03020269,-74.03056956,-74.03897876,-74.02898484,-74.05258226,-74.03184605,-74.04757959,-74.02863171,-74.03020924,-74.02806831,-74.03254006,-74.03881414,-74.03556462,-74.05435703,-74.02929455,-74.03255481,-74.03110401,-74.06097589,-74.041691,-74.02893651,-74.04244275,-74.02823277,-74.03466312,-74.04273129,-74.0279265,-74.02942293,-74.05777059,-74.03038589,-74.02836979,-74.05992041,-74.04596365,-74.06198072,-74.05125001,-74.05000066 ])
 
m.scatter(approxLon, approxLat, latlon=True,
          c='Blue', s=5,
          alpha=1.0)


newLat = np.array([  40.741688, 40.745750 ] )
newLon=  np.array([ -74.044580, -74.043408 ] )

newSame = np.array([9999,9999])
m.scatter(newLon, newLat, latlon=True,
          c='Orange', s=5,
          alpha=1.0)


plt.show()